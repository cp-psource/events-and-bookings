/*! PS-Events - v1.3.9
 * https://n3rds.work/piestingtal_source/ps-events-eventmanagement-fuer-wordpress/
 * Copyright (c) 2018; * Licensed GPLv2+ */

! function(a) {
    a(function() {
        function b(a) { if (!a) return ""; return '[map id="' + a + '"] ' }

        function c() {
            if ("function" == typeof closeMapEditor) return closeMapEditor();
            var b = a(".wpmui-wnd-close:visible");
            b.length && b.on("click")
        }

        function d(b) { var c = a("#psource_event_venue"); return !!c.length && (c.is("input,textarea") ? c.val(b) : c.text(b)) }

        function e() { return d(b(a(this).parents("li").find("input:hidden").val())), c(), !1 }

        function f(a, e) { return d(b(e)), c(), !1 }
        var g = "undefined" != typeof _agm && _agm.root_url ? _agm.root_url : _agm_root_url,
            h = a("#eab_insert_map");
        h.length && (window.openMapEditor ? (h.append('<a onclick="return openMapEditor();" title="' + eab_l10nEditor.add_map + '" class="thickbox" id="eab_add_map" href="#TB_inline?width=640&height=594&inlineId=map_container"><img onclick="return false;" alt="' + eab_l10nEditor.add_map + '" src="' + g + '/img/system/globe-button.gif">PS-Map einfügen</a>'), a("#map_preview_container").off("agm_map_insert").on("agm_map_insert", f)) : (h.append('<a class="add_map" title="' + eab_l10nEditor.add_map + '"><img onclick="return false;" alt="' + eab_l10nEditor.add_map + '" src="' + g + '/img/system/globe-button.gif">PS-Map einfügen</a>'), a(document).off("agm_map_insert", ".agm-editor .map_preview_container").on("agm_map_insert", ".agm-editor .map_preview_container", f)), a("body").off("click", "li.existing_map_item .add_map_item").on("click", "li.existing_map_item .add_map_item", e), a("#add_map").hide())
    })
}(jQuery);